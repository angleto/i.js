{
    "name": "d3: next steps",
    "cells": [
        {
            "in": "var d3 = require('d3');\nd3.version",
            "out": "'3.3.13'"
        },
        {
            "in": "var count = 32, min = 10, max = 50;\nvar data = Array.apply(null, new Array(count));\ndata = data.map(function() { return Math.round(Math.random() * (max - min) + min); });\ndata.length",
            "out": "32"
        },
        {
            "in": "var w = 600, h = 150, barWidth = 20;\nvar svg = d3.select('body').html('').append(\"svg\").attr(\"width\", w).attr(\"height\", h);\n\nvar xScale = d3.scale.linear().domain([0, count]).range([0, w]);\nvar yScale = d3.scale.linear().domain([0, max]).range([0, h]);\n\nvar rect = svg.selectAll(\"rect\").data(data).enter().append(\"rect\");\nrect.attr(\"x\", function(d, i) { return xScale(i); });\nrect.attr(\"y\",  function(d) { return h - yScale(d); });\nrect.attr(\"width\", w / count - 1).attr(\"height\", function(d) {return yScale(d);});\nrect.attr(\"fill\", function(d) {\n    return \"rgb(0, 0, \" + (d * 10) + \")\";\n});\nrect = rect.on(\"mouseover\", function() {d3.select(this).attr(\"fill\", \"orange\");});",
            "out": "[ [ { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 10 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 41 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 38 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 22 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 42 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 20 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 22 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 27 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 41 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 35 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 20 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 36 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 26 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 11 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 31 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 49 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 38 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 41 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 11 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 21 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 19 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',\n      _attached: true,\n      _attachedToDocument: true,\n      __data__: 21 },\n    { _ownerDocument: [Object],\n      _childNodes: {},\n      _attributes: [Object],\n      _nodeName: 'rect',\n      _childrenList: null,\n      _version: 5,\n      _nodeValue: null,\n      _parentNode: [Object],\n      _readonly: false,\n      _tagName: 'rect',\n      _created: true,\n      querySelector: [Function],\n      querySelectorAll: [Function],\n      matchesSelector: [Function],\n      _namespaceURI: 'http://www.w3.org/2000/svg',\n      _localName: 'rect',"
        },
        {
            "in": "%\n// But we do not want to see it, we want to render it instead, \n// so use the magic '%' marker as the first symbol of the cell\nsvg.node().parentNode.innerHTML\t",
            "out": "<svg width=\"600\" height=\"150\"><rect x=\"0\" y=\"120\" width=\"17.75\" height=\"30\" fill=\"rgb(0, 0, 100)\">10</rect><rect x=\"18.75\" y=\"26.999999999999986\" width=\"17.75\" height=\"123.00000000000001\" fill=\"rgb(0, 0, 410)\">41</rect><rect x=\"37.5\" y=\"36\" width=\"17.75\" height=\"114\" fill=\"rgb(0, 0, 380)\">38</rect><rect x=\"56.25\" y=\"84\" width=\"17.75\" height=\"66\" fill=\"rgb(0, 0, 220)\">22</rect><rect x=\"75\" y=\"24\" width=\"17.75\" height=\"126\" fill=\"rgb(0, 0, 420)\">42</rect><rect x=\"93.75\" y=\"90\" width=\"17.75\" height=\"60\" fill=\"rgb(0, 0, 200)\">20</rect><rect x=\"112.5\" y=\"84\" width=\"17.75\" height=\"66\" fill=\"rgb(0, 0, 220)\">22</rect><rect x=\"131.25\" y=\"69\" width=\"17.75\" height=\"81\" fill=\"rgb(0, 0, 270)\">27</rect><rect x=\"150\" y=\"26.999999999999986\" width=\"17.75\" height=\"123.00000000000001\" fill=\"rgb(0, 0, 410)\">41</rect><rect x=\"168.75\" y=\"44.999999999999986\" width=\"17.75\" height=\"105.00000000000001\" fill=\"rgb(0, 0, 350)\">35</rect><rect x=\"187.5\" y=\"90\" width=\"17.75\" height=\"60\" fill=\"rgb(0, 0, 200)\">20</rect><rect x=\"206.25\" y=\"42\" width=\"17.75\" height=\"108\" fill=\"rgb(0, 0, 360)\">36</rect><rect x=\"225\" y=\"72\" width=\"17.75\" height=\"78\" fill=\"rgb(0, 0, 260)\">26</rect><rect x=\"243.75\" y=\"117\" width=\"17.75\" height=\"33\" fill=\"rgb(0, 0, 110)\">11</rect><rect x=\"262.5\" y=\"57\" width=\"17.75\" height=\"93\" fill=\"rgb(0, 0, 310)\">31</rect><rect x=\"281.25\" y=\"3\" width=\"17.75\" height=\"147\" fill=\"rgb(0, 0, 490)\">49</rect><rect x=\"300\" y=\"36\" width=\"17.75\" height=\"114\" fill=\"rgb(0, 0, 380)\">38</rect><rect x=\"318.75\" y=\"26.999999999999986\" width=\"17.75\" height=\"123.00000000000001\" fill=\"rgb(0, 0, 410)\">41</rect><rect x=\"337.5\" y=\"117\" width=\"17.75\" height=\"33\" fill=\"rgb(0, 0, 110)\">11</rect><rect x=\"356.25\" y=\"87\" width=\"17.75\" height=\"63\" fill=\"rgb(0, 0, 210)\">21</rect><rect x=\"375\" y=\"93\" width=\"17.75\" height=\"57\" fill=\"rgb(0, 0, 190)\">19</rect><rect x=\"393.75\" y=\"87\" width=\"17.75\" height=\"63\" fill=\"rgb(0, 0, 210)\">21</rect><rect x=\"412.5\" y=\"99\" width=\"17.75\" height=\"51.00000000000001\" fill=\"rgb(0, 0, 170)\">17</rect><rect x=\"431.25\" y=\"63\" width=\"17.75\" height=\"87\" fill=\"rgb(0, 0, 290)\">29</rect><rect x=\"450\" y=\"69\" width=\"17.75\" height=\"81\" fill=\"rgb(0, 0, 270)\">27</rect><rect x=\"468.75\" y=\"30\" width=\"17.75\" height=\"120\" fill=\"rgb(0, 0, 400)\">40</rect><rect x=\"487.5\" y=\"81\" width=\"17.75\" height=\"69\" fill=\"rgb(0, 0, 230)\">23</rect><rect x=\"506.25\" y=\"78\" width=\"17.75\" height=\"72\" fill=\"rgb(0, 0, 240)\">24</rect><rect x=\"525\" y=\"72\" width=\"17.75\" height=\"78\" fill=\"rgb(0, 0, 260)\">26</rect><rect x=\"543.75\" y=\"6\" width=\"17.75\" height=\"144\" fill=\"rgb(0, 0, 480)\">48</rect><rect x=\"562.5\" y=\"60\" width=\"17.75\" height=\"90\" fill=\"rgb(0, 0, 300)\">30</rect><rect x=\"581.25\" y=\"75\" width=\"17.75\" height=\"75\" fill=\"rgb(0, 0, 250)\">25</rect></svg>"
        }
    ]
}